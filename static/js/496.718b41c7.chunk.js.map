{"version":3,"file":"static/js/496.718b41c7.chunk.js","mappings":"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","sources":["components/GetContent/GetMovieSearch.js","components/Movies/Movies.js","webpack://react-homework-template/./src/components/Movies/movies.module.css?968c","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const api_Key =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlM2Q2ODBiNmUxZDYzZDQwZDAzOTYyZGI4MGUyYTFhMCIsInN1YiI6IjY0NjRjMmU2ZDA1YTAzMDExOWRlYzU2MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Q0ZQUwtEPrByjiIx7f7hGYHdbh5ojLcYEsIIKeW2RXE';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${api_Key}`,\n  },\n};\nexport const getMovieSearch = async name => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${name}&include_adult=false&language=en-US&page=1`,\n    options\n  )\n    .then(response => response.json())\n    .then(response => {\n      return response;\n    })\n    .catch(err => console.error(err));\n};","import css from './movies.module.css';\nimport { useCustomContext } from '../Context/Context';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { getMovieSearch } from '../GetContent/GetMovieSearch';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'panding',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\nconst Movies = () => {\n  const { setId } = useCustomContext();\n  const [name, setName] = useState('');\n  const [searchName, setSearchName] = useState(\n    JSON.parse(window.localStorage.getItem('searchName')) ?? ''\n  );\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const [moviesSearch, setMoviesSearch] = useState(\n    JSON.parse(window.localStorage.getItem('moviesSearch')) ?? []\n  );\n  console.log(searchParams.get('query'));\n  const location = useLocation();\n  const [status, setStatus] = useState(STATUS.IDLE);\n\n  const handleNameChange = e => {\n    setName(e.currentTarget.value);\n  };\n\n  const submitForm = e => {\n    e.preventDefault();\n    setSearchParams({ query: name });\n    setSearchName(name);\n    setName('');\n  };\n\n  useEffect(() => {\n    setStatus(STATUS.PENDING);\n    if (searchName.trim() === '') {\n      setStatus(STATUS.REJECTED);\n      return;\n    }\n    getMovieSearch(searchName)\n      .then(movies => {\n        setMoviesSearch([...movies.results]);\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(error => {\n        console.error(error);\n        setStatus(STATUS.REJECTED);\n      });\n  }, [searchName]);\n\n  useEffect(() => {\n    window.localStorage.setItem('moviesSearch', JSON.stringify(moviesSearch));\n  }, [moviesSearch]);\n\n  useEffect(() => {\n    window.localStorage.setItem('searchName', JSON.stringify(searchName));\n  }, [searchName]);\n\n  return (\n    <div className={css.movies}>\n      <form className={css.movies_form}>\n        <input\n          className={css.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie name\"\n          onChange={handleNameChange}\n          value={name}\n        />\n        <button className={css.btn_sub} type=\"submit\" onClick={submitForm}>\n          Search\n        </button>\n      </form>\n\n      {status === STATUS.PENDING && <p className={css.cast_text}>Loading...</p>}\n\n      {status === STATUS.RESOLVED && (\n        <ul className={css.movies_list}>\n          {moviesSearch.map(({ id, title }) => (\n            <li\n              key={id}\n              className={css.movies_item}\n              onClick={() => {\n                setId(id);\n              }}\n            >\n              <Link\n                className={css.movies_link}\n                to={`/movies/${id}`}\n                state={{ from: location }}\n              >\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\nexport default Movies;","// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"movies_movies__C2IhS\",\"movies_form\":\"movies_movies_form__3llfX\",\"movies_list\":\"movies_movies_list__ZnERL\",\"movies_item\":\"movies_movies_item__PzG0R\",\"movies_link\":\"movies_movies_link__qA01R\",\"input\":\"movies_input__q8Mmu\",\"btn_sub\":\"movies_btn_sub__x9hFi\",\"movie_back_link\":\"movies_movie_back_link__ksJAE\",\"movie_back\":\"movies_movie_back__+uJAC\",\"movie_card\":\"movies_movie_card__8iCWL\",\"movie_inf\":\"movies_movie_inf__TIsMQ\",\"movie_title\":\"movies_movie_title__9X94c\",\"movie_text\":\"movies_movie_text__Cejqn\",\"movie_title2\":\"movies_movie_title2__PZhOD\",\"movie_title3\":\"movies_movie_title3__Odxmw\",\"banner_error\":\"movies_banner_error__bxWCl\",\"movie_add_inf\":\"movies_movie_add_inf__km0bd\",\"movie_list_addinf\":\"movies_movie_list_addinf__Xoj+5\",\"movie_item_addinf\":\"movies_movie_item_addinf__ENGof\",\"cast_item\":\"movies_cast_item__99oP3\",\"cast_text\":\"movies_cast_text__BWYPW\",\"cast_list\":\"movies_cast_list__uSqCr\"};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["options","method","headers","accept","Authorization","getMovieSearch","name","fetch","then","response","json","catch","err","console","error","STATUS","setId","useCustomContext","useState","setName","JSON","parse","window","localStorage","getItem","searchName","setSearchName","useSearchParams","searchParams","setSearchParams","moviesSearch","setMoviesSearch","log","get","location","useLocation","status","setStatus","useEffect","trim","movies","results","setItem","stringify","className","css","type","autoComplete","autoFocus","placeholder","onChange","e","currentTarget","value","onClick","preventDefault","query","map","id","title","to","state","from","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined"],"sourceRoot":""}