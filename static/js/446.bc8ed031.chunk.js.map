{"version":3,"file":"static/js/446.bc8ed031.chunk.js","mappings":"oOAEMA,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD,OALf,yNASWC,EAAe,mCAAG,WAAMC,GAAN,0FACtBC,MAAM,sCAAD,OAC4BD,EAD5B,mBAEVN,GAECQ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAC,GACJ,OAAOA,CACR,IACAE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,EAAlB,KATiB,2CAAH,sD,4CCJtBG,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAsIZ,EAnIqB,WAAO,IAAD,MACzB,GAA0BC,EAAAA,EAAAA,UAAQ,UAChCC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,iBADP,QACoB,CAAC,GADvD,eAAOC,EAAP,KAAcC,EAAd,KAGA,GAAwBP,EAAAA,EAAAA,UAAS,IAAjC,eAAOQ,EAAP,KAAaC,EAAb,KACA,GAA0BT,EAAAA,EAAAA,UAAS,GAAnC,eAAOU,EAAP,KAAcC,EAAd,KACA,GAA4BX,EAAAA,EAAAA,UAAS,IAArC,eAAOY,EAAP,KAAeC,EAAf,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA4Bd,EAAAA,EAAAA,UAASD,GAArC,eAAOiB,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAGXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KA4C3D,OA1CAC,EAAAA,EAAAA,YAAU,WACRP,EAAUlB,GAELe,EAKLzB,EAAgByB,GACbtB,MAAK,SAAAc,GACJ,IAAsB,IAAlBA,EAAMmB,QAAV,CAIAlB,EAASD,GACT,IAAMoB,EAAYpB,EAAMqB,aACpBD,GACFjB,EAAQiB,EAAUE,MAAM,EAAG,IAE7B,IAAMC,GAAkC,GAArBvB,EAAMwB,cAAmBC,UAC5CpB,EAASkB,GAET,IAAMG,EAAc1B,EAAMM,OACtBqB,EAAiB,GACjBD,GACFA,EAAYE,SAAQ,YAAe,IAAZC,EAAW,EAAXA,KACrBF,EAAeG,KAAKD,GACpBtB,EAAUoB,EAAeI,KAAK,MAC/B,IAEHpB,EAAUlB,EAjBT,MAFCkB,EAAUlB,EAoBb,IACAJ,OAAM,SAAAG,GACLD,QAAQC,MAAMA,GACdmB,EAAUlB,EACX,IA/BDkB,EAAUlB,EAgCb,GAAE,CAACe,KAEJU,EAAAA,EAAAA,YAAU,WACRrB,OAAOC,aAAakC,QAAQ,QAASrC,KAAKsC,UAAUjC,GACrD,GAAE,CAACA,IAEAU,IAAWjB,GACN,cAAGyC,UAAWC,EAAAA,EAAAA,UAAd,wBAELzB,IAAWjB,GAEX,iCACE,SAAC,KAAD,CAAMyC,UAAWC,EAAAA,EAAAA,gBAAqBC,GAAItB,EAAoBuB,QAA9D,UACE,oBAAQH,UAAWC,EAAAA,EAAAA,WAAnB,WACE,SAAC,MAAD,CAAoBG,KAAK,QAAQC,KAAK,OADxC,gBAMF,iBAAKL,UAAWC,EAAAA,EAAAA,WAAhB,UACGnC,EAAMwC,aACL,gBACEC,IAAG,UA9DM,oCA8DN,OAAoBzC,EAAMwC,aAC7BE,MAAM,SACNC,IAAI,MAGN,cAAGT,UAAWC,EAAAA,EAAAA,aAAd,8CAEF,iBAAKD,UAAWC,EAAAA,EAAAA,UAAhB,WACE,eAAID,UAAWC,EAAAA,EAAAA,YAAf,mBAAoCnC,EAAM4C,MAA1C,YAAmD1C,EAAnD,QACA,eAAGgC,UAAWC,EAAAA,EAAAA,WAAd,yBAA2C/B,EAA3C,QACA,eAAI8B,UAAWC,EAAAA,EAAAA,aAAf,uBACA,cAAGD,UAAWC,EAAAA,EAAAA,WAAd,SAA+BnC,EAAM6C,YACrC,eAAIX,UAAWC,EAAAA,EAAAA,aAAf,qBACA,cAAGD,UAAWC,EAAAA,EAAAA,WAAd,SAA+B7B,WAGnC,iBAAK4B,UAAWC,EAAAA,EAAAA,cAAhB,WACE,cAAGD,UAAWC,EAAAA,EAAAA,WAAd,qCACA,gBAAID,UAAWC,EAAAA,EAAAA,kBAAf,WACE,eAAID,UAAWC,EAAAA,EAAAA,kBAAf,UACE,SAAC,KAAD,CACED,UAAWC,EAAAA,EAAAA,kBACXC,GAAE,kBAAa5B,EAAb,SACFQ,MAAO,CAAEC,KAAML,GAHjB,qBAQF,eAAIsB,UAAWC,EAAAA,EAAAA,kBAAf,UACE,SAAC,KAAD,CACED,UAAWC,EAAAA,EAAAA,kBACXC,GAAE,kBAAa5B,EAAb,YACFQ,MAAO,CAAEC,KAAML,GAHjB,6BAUN,SAAC,EAAAkC,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,SAIJrC,IAAWjB,GAEX,iCACE,SAAC,KAAD,CAAMyC,UAAWC,EAAAA,EAAAA,gBAAqBC,GAAItB,EAAoBuB,QAA9D,UACE,oBAAQH,UAAWC,EAAAA,EAAAA,WAAnB,WACE,SAAC,MAAD,CAAoBG,KAAK,QAAQC,KAAK,OADxC,gBAKF,cAAGL,UAAWC,EAAAA,EAAAA,YAAd,oFATN,CAcD,C,oBC9ID,KAAgB,OAAS,uBAAuB,YAAc,4BAA4B,YAAc,4BAA4B,YAAc,4BAA4B,YAAc,4BAA4B,MAAQ,sBAAsB,QAAU,wBAAwB,gBAAkB,gCAAgC,WAAa,2BAA2B,WAAa,2BAA2B,UAAY,0BAA0B,YAAc,4BAA4B,WAAa,2BAA2B,aAAe,6BAA6B,aAAe,6BAA6B,aAAe,6BAA6B,cAAgB,8BAA8B,kBAAoB,kCAAkC,kBAAoB,kCAAkC,UAAY,0BAA0B,UAAY,0BAA0B,UAAY,0B","sources":["components/GetContent/GetMovieDetails.js","components/Movies/MovieDetails.js","webpack://react-homework-template/./src/components/Movies/movies.module.css?968c"],"sourcesContent":["const api_Key =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5ZmIwZjA2NDE5YzM3N2Y5MjU1OGEyMjM2Mjc0MTQ5NSIsInN1YiI6IjYxZTZiZjI3YjdhYmI1MDAxYTI1MWZhNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.StYavZ4LzGmhemX6cHksaIzE34BKhIiazMjEt5zPnEE';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${api_Key}`,\n  },\n};\n\nexport const getMovieDetails = async id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?language=en-US`,\n    options\n  )\n    .then(response => response.json())\n    .then(response => {\n      return response;\n    })\n    .catch(err => console.error(err));\n};","import React, { Suspense, useEffect, useRef, useState } from 'react';\nimport { getMovieDetails } from '../GetContent/GetMovieDetails';\nimport css from './movies.module.css';\nimport { Link, useParams, useLocation, Outlet } from 'react-router-dom';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'panding',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(\n    JSON.parse(window.localStorage.getItem('movie')) ?? {}\n  );\n  const [date, setDate] = useState('');\n  const [score, setScore] = useState(0);\n  const [genres, setGenres] = useState('');\n  const { movieId } = useParams();\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const location = useLocation();\n  const BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    setStatus(STATUS.PENDING);\n\n    if (!movieId) {\n      setStatus(STATUS.REJECTED);\n      return;\n    }\n\n    getMovieDetails(movieId)\n      .then(movie => {\n        if (movie.success === false) {\n          setStatus(STATUS.REJECTED);\n          return;\n        }\n        setMovie(movie);\n        const movieDate = movie.release_date;\n        if (movieDate) {\n          setDate(movieDate.slice(0, 4));\n        }\n        const userScore = (movie.vote_average * 10).toFixed();\n        setScore(userScore);\n\n        const arrayGenres = movie.genres;\n        let newArrayGenres = [];\n        if (arrayGenres) {\n          arrayGenres.forEach(({ name }) => {\n            newArrayGenres.push(name);\n            setGenres(newArrayGenres.join(', '));\n          });\n        }\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(error => {\n        console.error(error);\n        setStatus(STATUS.REJECTED);\n      });\n  }, [movieId]);\n\n  useEffect(() => {\n    window.localStorage.setItem('movie', JSON.stringify(movie));\n  }, [movie]);\n\n  if (status === STATUS.PENDING)\n    return <p className={css.cast_text}>Loading...</p>;\n\n  if (status === STATUS.RESOLVED)\n    return (\n      <>\n        <Link className={css.movie_back_link} to={backLinkLocationRef.current}>\n          <button className={css.movie_back}>\n            <AiOutlineArrowLeft fill=\"black\" size=\"12\" />\n            Go Back\n          </button>\n        </Link>\n\n        <div className={css.movie_card}>\n          {movie.poster_path ? (\n            <img\n              src={`${BASE_IMG_URL}${movie.poster_path}`}\n              width=\"300 px\"\n              alt=\"\"\n            ></img>\n          ) : (\n            <b className={css.banner_error}>Sorry, the banner was not found</b>\n          )}\n          <div className={css.movie_inf}>\n            <h1 className={css.movie_title}>{`${movie.title}(${date})`}</h1>\n            <p className={css.movie_text}>User score: {score}%</p>\n            <h2 className={css.movie_title2}>Overview</h2>\n            <p className={css.movie_text}>{movie.overview}</p>\n            <h3 className={css.movie_title3}>Genres</h3>\n            <p className={css.movie_text}>{genres}</p>\n          </div>\n        </div>\n        <div className={css.movie_add_inf}>\n          <p className={css.movie_text}>Additional information</p>\n          <ul className={css.movie_list_addinf}>\n            <li className={css.movie_item_addinf}>\n              <Link\n                className={css.movie_link_addinf}\n                to={`/movies/${movieId}/cast`}\n                state={{ from: location }}\n              >\n                Cast\n              </Link>\n            </li>\n            <li className={css.movie_item_addinf}>\n              <Link\n                className={css.movie_link_addinf}\n                to={`/movies/${movieId}/reviews`}\n                state={{ from: location }}\n              >\n                Rewies\n              </Link>\n            </li>\n          </ul>\n        </div>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </>\n    );\n  if (status === STATUS.REJECTED)\n    return (\n      <>\n        <Link className={css.movie_back_link} to={backLinkLocationRef.current}>\n          <button className={css.movie_back}>\n            <AiOutlineArrowLeft fill=\"black\" size=\"12\" />\n            Go Back\n          </button>\n        </Link>\n        <b className={css.movie_error}>\n          Sorry, we don't have detailed information about this movie !!!\n        </b>\n      </>\n    );\n};\nexport default MovieDetails;","// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"movies_movies__C2IhS\",\"movies_form\":\"movies_movies_form__3llfX\",\"movies_list\":\"movies_movies_list__ZnERL\",\"movies_item\":\"movies_movies_item__PzG0R\",\"movies_link\":\"movies_movies_link__qA01R\",\"input\":\"movies_input__q8Mmu\",\"btn_sub\":\"movies_btn_sub__x9hFi\",\"movie_back_link\":\"movies_movie_back_link__ksJAE\",\"movie_back\":\"movies_movie_back__+uJAC\",\"movie_card\":\"movies_movie_card__8iCWL\",\"movie_inf\":\"movies_movie_inf__TIsMQ\",\"movie_title\":\"movies_movie_title__9X94c\",\"movie_text\":\"movies_movie_text__Cejqn\",\"movie_title2\":\"movies_movie_title2__PZhOD\",\"movie_title3\":\"movies_movie_title3__Odxmw\",\"banner_error\":\"movies_banner_error__bxWCl\",\"movie_add_inf\":\"movies_movie_add_inf__km0bd\",\"movie_list_addinf\":\"movies_movie_list_addinf__Xoj+5\",\"movie_item_addinf\":\"movies_movie_item_addinf__ENGof\",\"cast_item\":\"movies_cast_item__99oP3\",\"cast_text\":\"movies_cast_text__BWYPW\",\"cast_list\":\"movies_cast_list__uSqCr\"};"],"names":["options","method","headers","accept","Authorization","getMovieDetails","id","fetch","then","response","json","catch","err","console","error","STATUS","useState","JSON","parse","window","localStorage","getItem","movie","setMovie","date","setDate","score","setScore","genres","setGenres","movieId","useParams","status","setStatus","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","success","movieDate","release_date","slice","userScore","vote_average","toFixed","arrayGenres","newArrayGenres","forEach","name","push","join","setItem","stringify","className","css","to","current","fill","size","poster_path","src","width","alt","title","overview","Suspense","fallback"],"sourceRoot":""}